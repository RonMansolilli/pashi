{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='//fonts.googleapis.com/css?family=Raleway:400,300,600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="{% static 'css/normalize.css' %}">
    <link rel="stylesheet" href="{% static 'css/skeleton.css' %}">
    <title>PASHI Project</title>
  </head> 
  <body> 

    <!-- Utilizing modified Skeleton CSS for formatting ------------------->
    <div class="container">

      <!-- Header --------------------------------------------------->
      <div class="row">
        <div class="ten columns" style="margin-top: 1%">
          <div style="border: none; text-align: center;">
            <img src="/media/images/pashi_logo1.jpg" alt="pashi1_logo" style="object-fit: fill; width: 100%">
            <br>
            <i>"Choosing 'Safety OR Affordability' shouldn't be a choice.</i>
          </div>
        </div>
        <div class="two columns" style="margin-top: 1%; ">
          <div style="border: none; text-align: center;">
          <img src="/media/images/pashi_small_logo.jpg" alt="pashi_small_logo" style="height: 70px; width: auto">
          <br>
          {% if user.is_authenticated %}
            Hi {{ user.username }}!
            <p><a href="{% url 'logout' %}">Log Out</a></p>
          {% else %}
            <a href="{% url 'login' %}">Log In</a><br>
            <a href="{% url 'users_app:signup' %}">Sign Up</a>
          {% endif %}
          </div>
        </div>
      </div>
      <hr>

      <!-- Begin html/django code  ------------------------------------>
      <div class="row">
          {% csrf_token %}
        <div class="twelve columns" style="margin-top: 1%">
          <main>
            {% block content %}
            {% endblock %}
          </main>
          <hr>
        </div>
      </div>

      <!-- Footer --------------------------------------------------------->
      <div class="row">
        <div class="twelve columns" ><center>Check us out on:<br><i><a href="/" target="_blank">Facebook|Instagram|Twitter<br>Contact Us</a></i></center></div><br>
        <div><center><i><a href="/" target="_blank">FAQ</a></i></center></div>
        {% comment %} <div class="two columns" ><center><i><a href="/" target="_blank">About<br>FAQ<br>Resources</a></i></center></div> {% endcomment %}
        {% comment %} <div class="four columns" style="margin-top: 1%"><center>empty</center></div> {% endcomment %}
      </div>
    </div>

  <!-- JS files --------------------------------------------------------->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <!-- Vue script ----------------------------------------------------->
    <script>
      let app = new Vue({
          el: '#app',
          delimiters: ['[[', ']]'],
          data: {
              users: [],
              housing: [],
              housingRank: [],
              neighborhoods: [],
              csrf_token: "",
              postErrors: {},
              house_selected: "",
              multi_selected: "",
          },
          methods: {
              loadHousing: function() {
                  axios({
                      method: 'get',
                      url: '/apis/v1/'
                  }).then(response => {
                      this.housing = response.data
                      {% comment %} console.log(response.data) {% endcomment %}
                  })
              },
              loadNeighborhood: function() {
                  axios({
                      method: 'get',
                      url: '/apis/v1/neighborhood'
                  }).then(response => {
                      this.neighborhoods = response.data
                      {% comment %} console.log(response.data) {% endcomment %}
                  })
              },
          },
          created: function() {
              this.loadHousing()
              this.loadNeighborhood()

          },
          mounted: function() {
              this.csrf_token = document.querySelector('input[name="csrfmiddlewaretoken"]').value
          }
      });
    </script>

    <!-- Closing tags -->
    </body>
  </html> 
